<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pencarian Penerbangan</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 24px; }
        form { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin-bottom: 16px; }
        label { font-weight: 600; }
        input, button { padding: 8px; }
        .error { color: #c00; margin-bottom: 12px; }
        .card { border: 1px solid #ddd; padding: 12px; margin-bottom: 8px; border-radius: 6px; }
        .meta { color: #555; font-size: 12px; }
    </style>
</head>
<body>
    <h1>Booking Pesawat (Realtime Amadeus)</h1>

    {% if error %}
      <div class="error">{{ error }}</div>
    {% endif %}

    <form method="get" action="{% url 'flight_results' %}">
        <div>
            <label for="origin">Origin (IATA)</label>
            <input type="text" id="origin" name="origin" value="{{ origin }}" placeholder="CGK" required />
        </div>
        <div>
            <label for="destination">Destination (IATA)</label>
            <input type="text" id="destination" name="destination" value="{{ destination }}" placeholder="DPS" required />
        </div>
        <div>
            <label for="departure_date">Tanggal Berangkat</label>
            <input type="date" id="departure_date" name="departure_date" value="{{ departure_date }}" required />
        </div>
        <div>
            <label><input type="checkbox" id="is_roundtrip"> Round Trip</label>
        </div>
        <div id="return_date_wrap" style="display:none">
            <label for="return_date">Tanggal Kepulangan</label>
            <input type="date" id="return_date" name="return_date" value="{{ return_date }}" />
        </div>
        <div>
            <label for="adults">Dewasa</label>
            <input type="number" id="adults" name="adults" value="{{ adults|default:'1' }}" min="1" />
        </div>
        <div style="grid-column: 1 / -1">
            <button type="submit">Cari Penerbangan</button>
        </div>
    </form>

    <script>
      const cb = document.getElementById('is_roundtrip');
      const wrap = document.getElementById('return_date_wrap');
      cb.addEventListener('change', () => { wrap.style.display = cb.checked ? 'block' : 'none'; });
    </script>

</body>
</html>